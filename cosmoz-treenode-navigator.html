<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../paper-listbox/paper-listbox.html">
<link rel="import" href="../paper-item/paper-item.html"> 
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../cosmoz-i18next/cosmoz-i18next.html">

<dom-module id="cosmoz-treenode-navigator">
	<template>
		<style is="custom-style" include="iron-flex iron-flex-alignment">
			
			.nodeItem {
				cursor:pointer
			}
			
			.listTree {
				max-width: 540px;
			}
		</style>
		<div class="horizontal-section">
			<h3>[[ _currentBranchPathName ]]</h3>
			<paper-input class="flex" label="[[ searchPlaceholder ]]" title$="[[ searchPlaceholder ]]" id="searchInput"
					value="{{ inputValue }}">
			</paper-input>
			<iron-icon icon="icons:arrow-upward" hidden$="{{ checkForParent(_locationPath) }}" on-click="openParentNode"></iron-icon>
			<iron-icon icon="icons:settings-backup-restore" hidden$="{{ checkForChange(_locationPath, inputValue) }}" on-click="returnToRoot"></iron-icon>
			<paper-listbox class="listTree">
				<template is="dom-repeat" items="{{ _dataPlane }}" as="node">
					<div hidden$="[[ _noSearch ]]">[[ node.sectionName ]]</div>
					<paper-item class="nodeItem" title="[[ _currentBranchPathName ]]" node-object="[[ node ]]" on-click="nodeSelect">
						<span class="flex">[[ node.name ]]</span>
						<iron-icon hidden$="[[ noChildrenFound(node) ]]" icon="icons:arrow-forward" on-click="openNode"></iron-icon>
					</paper-item>
				</template>
				<paper-item hidden$="[[ _noSearch ]]" search-word="[[ inputValue ]]" on-click="tryGlobalSearch">{{ _searchText }}</paper-item>
			</paper-listbox>
		</div>
	</template>
	<script type="text/javascript" src="cosmoz-treenode-navigator.js"></script>
</dom-module>
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-listbox/paper-listbox.html">
<link rel="import" href="../paper-item/paper-item.html"> 
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-dialog/paper-dialog.html">  
<link rel="import" href="../paper-button/paper-button.html">  
<link rel="import" href="../paper-tooltip/paper-tooltip.html">
<!--
`cosmoz-treenode-navigator`
Navigator through object with treelike datastructure.  
 
@demo demo/index.html 
-->

<dom-module id="cosmoz-treenode-navigator">
	<template>
		<style>
			:host {
				height: 200px;
			}

			.nodeItem {
				cursor:pointer
			}

		</style>
		<div class="horizontal-section">
			<h3>[[ currentBranchPathName ]][[ selectedNodeName ]]</h3>
			<paper-input class="flex" label="[[ searchPlaceholder ]]" title$="[[ searchPlaceholder ]]" id="searchInput"
					value="{{ inputValue }}">
			</paper-input>
			<iron-icon icon="icons:arrow-upward"  hidden$="{{ checkForParent(_locationPath) }}" on-click="openParentNode"></iron-icon>
			<paper-listbox >
				<template is="dom-repeat" items="{{ _dataPlane }}" as="node">
					<div class="vertical-section">
						<div hidden$="[[ checkSection(node.sectionName) ]]">[[ node.sectionName ]]</div>
						<paper-item class="nodeItem" node-object="[[ node ]]" on-click="nodeSelect">
							<paper-tooltip animation-delay="0">[[ currentBranchPathName ]][[ node.generatedName ]]</paper-tooltip>[[ node.generatedName ]]
							<iron-icon hidden$="[[ noChildrenFound(node) ]]" icon="icons:arrow-forward" on-click="openNode"></iron-icon>
						</paper-item>
					</div>
				</template>
				<paper-item hidden$="[[ !_searchFailed ]]" search-word="[[ inputValue ]]" on-click="tryGlobalSearch">{{_noResultFound}}</paper-item>
			</paper-listbox>
		</div>
	</template>
	<script type="text/javascript" src="cosmoz-treenode-navigator.js"></script>

</dom-module>